"use strict";(self["webpackChunkhex_week6"]=self["webpackChunkhex_week6"]||[]).push([[204],{204:function(e,t,o){o.r(t),o.d(t,{default:function(){return d}});var u=o(252);const n={class:"header"},s=(0,u._)("h1",null,[(0,u._)("i",null,"商品管理介面")],-1),c=(0,u._)("li",null,"ToFrontEnd",-1),i=(0,u._)("li",null,"Products",-1);function l(e,t,o,l,h,r){const a=(0,u.up)("router-link"),d=(0,u.up)("router-view");return(0,u.wg)(),(0,u.iD)(u.HY,null,[(0,u._)("div",n,[s,(0,u._)("ul",null,[(0,u.Wm)(a,{to:"/"},{default:(0,u.w5)((()=>[c])),_:1}),(0,u.Wm)(a,{to:"/admin/products"},{default:(0,u.w5)((()=>[i])),_:1}),(0,u._)("li",{onClick:t[0]||(t[0]=(...e)=>r.signOut&&r.signOut(...e))},"Log-Out")])]),h.checkState?((0,u.wg)(),(0,u.j4)(d,{key:0})):(0,u.kq)("",!0)],64)}var h={data(){return{checkState:!1}},mounted(){this.checkLogin()},methods:{checkLogin(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)hexSchool\s*=\s*([^;]*).*$)|^.*$/,"$1");if(e){this.$http.defaults.headers.common.Authorization=`${e}`;const t="https://vue3-course-api.hexschool.io/v2";this.$http.post(`${t}/api/user/check`).then((e=>{this.checkState=!0})).catch((e=>{alert("請先登入"),console.log(e.data.message),this.$router.push("/login")}))}else alert("尚未登入"),this.$router.push("/login")},signOut(){document.cookie="hexSchool=;expires=;",alert("用戶已登出"),this.$router.push("/login")}}},r=o(744);const a=(0,r.Z)(h,[["render",l]]);var d=a}}]);
//# sourceMappingURL=204.a7e4d122.js.map