"use strict";(self["webpackChunkhex_week6"]=self["webpackChunkhex_week6"]||[]).push([[945],{740:function(t,i,l){function e(t){return{all:t=t||new Map,on:function(i,l){var e=t.get(i);e?e.push(l):t.set(i,[l])},off:function(i,l){var e=t.get(i);e&&(l?e.splice(e.indexOf(l)>>>0,1):t.set(i,[]))},emit:function(i,l){var e=t.get(i);e&&e.slice().map((function(t){t(l)})),(e=t.get("*"))&&e.slice().map((function(t){t(i,l)}))}}}l.d(i,{Z:function(){return c}});const s=e();var c=s},945:function(t,i,l){l.r(i),l.d(i,{default:function(){return w}});var e=l(252),s=l(577);const c={class:"nav"},r=(0,e._)("h1",null,[(0,e._)("span",null,"產品分類")],-1),n={class:"product-list"},a={class:"col-1"},o=["src"],u={class:"col-2"},d={class:"profile"},h=(0,e._)("span",null,"更多..",-1),p=["onClick"];function f(t,i,l,f,_,v){const g=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("div",c,[r,(0,e._)("ul",null,[(0,e._)("li",{onClick:i[0]||(i[0]=t=>_.filter=""),class:(0,s.C_)({active:""===_.filter})},"全部",2),(0,e._)("li",{onClick:i[1]||(i[1]=t=>_.filter="蛋糕"),class:(0,s.C_)({active:"蛋糕"===_.filter})}," 蛋糕 ",2),(0,e._)("li",{onClick:i[2]||(i[2]=t=>_.filter="小點"),class:(0,s.C_)({active:"小點"===_.filter})}," 點心 ",2),(0,e._)("li",{onClick:i[3]||(i[3]=t=>_.filter="甜甜圈"),class:(0,s.C_)({active:"甜甜圈"===_.filter})}," 甜甜圈 ",2)])]),(0,e._)("div",n,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(v.productFilter,(t=>((0,e.wg)(),(0,e.iD)("div",{class:"card",key:t.id},[(0,e._)("h2",null,(0,s.zw)(t.title),1),(0,e._)("div",a,[(0,e._)("img",{src:t.imageUrl},null,8,o)]),(0,e._)("div",u,[(0,e._)("h3",null,(0,s.zw)(t.description),1),(0,e._)("h3",d,[(0,e._)("span",null,"價格 : "+(0,s.zw)(t.price)+"元",1),(0,e._)("span",null,"數量 : "+(0,s.zw)(t.num)+"個",1),(0,e.Wm)(g,{to:`/customerProducts/${t.id}`},{default:(0,e.w5)((()=>[h])),_:2},1032,["to"])])]),(0,e._)("button",{onClick:i=>v.addToCart(i,t.id)},"加入購物車",8,p)])))),128))])],64)}var _=l(740),v={data(){return{url:"https://vue3-course-api.hexschool.io/v2",path:"hexschoolforhenrywu",products:[],filter:""}},computed:{productFilter(){if(this.filter){const t=[];return this.products.forEach((i=>{i.category===this.filter&&t.push(i)})),t}return this.products}},methods:{getProducts(){this.$http.get(`${this.url}/api/${this.path}/products/all`).then((t=>{this.products=t.data.products})).catch((t=>{console.dir(t)}))},addToCart(t,i,l=1){const e={product_id:i,qty:l};t.target.classList.add("disable"),this.$http.post(`${this.url}/api/${this.path}/cart`,{data:e}).then((i=>{alert("已加入購物車"),_.Z.emit("cart-change"),t.target.classList.remove("disable")})).catch((t=>{console.dir(t)}))}},mounted(){this.getProducts()}},g=l(744);const k=(0,g.Z)(v,[["render",f]]);var w=k}}]);
//# sourceMappingURL=945.682c8969.js.map