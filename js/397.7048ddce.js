"use strict";(self["webpackChunkhex_week6"]=self["webpackChunkhex_week6"]||[]).push([[397],{397:function(t,l,e){e.r(l),e.d(l,{default:function(){return P}});var n=e(252),i=e(577);const s=t=>((0,n.dD)("data-v-398670b0"),t=t(),(0,n.Cn)(),t),u={id:"mainPage"},o=s((()=>(0,n._)("h1",null,"產品列表",-1))),c=s((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"產品名稱"),(0,n._)("th",null,"原價"),(0,n._)("th",null,"售價"),(0,n._)("th",null,"是否啟用"),(0,n._)("th",null,"查看細節"),(0,n._)("th",null,"刪除嗎?")])],-1))),r={key:0,class:"enable"},a={key:1,class:"disable"},d=["onClick"],p=["onClick"],h={id:"showDetail"},_=s((()=>(0,n._)("h1",null,"單一產品細節",-1))),w={key:0,class:"itemContent"},g={class:"col-1"},m=["src"],k=["src"],b={class:"col-2"},y={class:"originPrice"},v=(0,n.Uk)(" 個 / 元"),z={key:1};function D(t,l,e,s,D,$){return(0,n.wg)(),(0,n.iD)("div",u,[o,(0,n._)("table",null,[c,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(D.products,(t=>((0,n.wg)(),(0,n.iD)("tr",{key:t.id},[(0,n._)("td",null,(0,i.zw)(t.title),1),(0,n._)("td",null,(0,i.zw)(t.origin_price),1),(0,n._)("td",null,(0,i.zw)(t.price),1),(0,n._)("td",null,[t.is_enabled?((0,n.wg)(),(0,n.iD)("span",r,"啟用")):((0,n.wg)(),(0,n.iD)("span",a,"未啟用"))]),(0,n._)("td",null,[(0,n._)("button",{class:"tableButton",type:"button",onClick:l=>$.getSingleProduct(t.id)},"點我",8,d)]),(0,n._)("td",null,[(0,n._)("button",{class:"tableButton",type:"button",onClick:l=>$.deleteProducts(t.id)},"刪除",8,p)])])))),128))])]),(0,n._)("div",h,[_,D.temp.title?((0,n.wg)(),(0,n.iD)("div",w,[(0,n._)("div",g,[(0,n._)("img",{class:"largepic",src:D.temp.imageUrl},null,8,m),(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(D.temp.imagesUrl,((t,l)=>((0,n.wg)(),(0,n.iD)("li",{key:l},[(0,n._)("img",{class:"smallpic",src:t},null,8,k)])))),128))])]),(0,n._)("div",b,[(0,n._)("h2",null,[(0,n.Uk)((0,i.zw)(D.temp.title)+" ",1),(0,n._)("span",null,(0,i.zw)(D.temp.category),1)]),(0,n._)("p",null,"商品描述 : "+(0,i.zw)(D.temp.description),1),(0,n._)("p",null,"商品內容 : "+(0,i.zw)(D.temp.content),1),(0,n._)("p",null,[(0,n.Uk)("產品售價 : 超激價! "+(0,i.zw)(D.temp.price)+" ",1),(0,n._)("span",y,(0,i.zw)(D.temp.origin_price),1),v]),(0,n._)("p",null,"尚有數量 : "+(0,i.zw)(D.temp.num)+" "+(0,i.zw)(D.temp.unit),1)])])):((0,n.wg)(),(0,n.iD)("div",z,"請選擇一個商品查看"))])])}var $={data(){return{url:"https://vue3-course-api.hexschool.io/v2",path:"hexschoolforhenrywu",username:"",password:"",products:[],temp:{}}},methods:{getProducts:function(){this.$http.get(`${this.url}/api/${this.path}/admin/products/all`).then((t=>{this.products=t.data.products})).catch((t=>{console.dir(t)}))},getSingleProduct:function(t){this.$http.get(`${this.url}/api/${this.path}/product/${t}`).then((t=>{this.temp=t.data.product})).catch((t=>{console.dir(t)}))},deleteProducts:function(t){const l=prompt("Are you sure you want to delete this product?","yes / no");"yes"===l.toLowerCase().trim()&&this.$http.delete(`${this.url}/api/${this.path}/admin/product/${t}`).then((t=>{this.getProducts()})).catch((t=>{console.dir(t)}))}},mounted(){this.getProducts()}},f=e(744);const C=(0,f.Z)($,[["render",D],["__scopeId","data-v-398670b0"]]);var P=C}}]);
//# sourceMappingURL=397.7048ddce.js.map